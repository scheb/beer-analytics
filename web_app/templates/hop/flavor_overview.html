{% extends 'base.html' %}
{% load web_app %}

{% block content %}
    <nav aria-label="breadcrumb" class="mt-3">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="{% url "hop_overview" %}">Hops</a></li>
            <li class="breadcrumb-item active">Hop Flavors and Aromas</li>
        </ol>
    </nav>

    <h1>Hop Flavors and Aromas</h1>
    {% include "./descriptions/flavors.html" %}

    {% for category in categories %}
        <section class="flavor-category">
            <h2><a id="category-{{ category.id }}"></a>{{ category.name }} Flavors</h2>
            {% if category.description %}
                <div class="flavor-category-description">
                    {% include category.description %}
                </div>
            {% endif %}

            <table class="table flavor-table">
                <colgroup>
                    <col style="width:15%" />
                    <col style="width:15%" />
                    <col style="width:70%" />
                </colgroup>
                <thead class="table-light">
                    <tr>
                        <th>Descriptor</th>
                        <th># Hops</th>
                        <th>Examples</th>
                    </tr>
                </thead>
                <tbody>
                    {% for tag in category.tags %}
                    <tr>
                        <td class="badge-list"><a href="{% url "hop_flavor_detail" tag.id %}" class="badge bg-{{ tag.category }}">{{ tag.name }}</a></td>
                        <td>{{ tag.accessible_hops_count }}</td>
                        <td>{% for hop in tag.most_popular_hops %}{% if not forloop.first %}, {% endif %}<a href="{{ hop|url }}">{{ hop.name }}</a>{% endfor %}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </section>
    {% endfor %}
{% endblock %}
